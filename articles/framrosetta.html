<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>overview • framrosetta</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">framrosetta</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/framrosetta.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>overview</h1>
            
      

      <div class="d-none name"><code>framrosetta.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://framverse.github.io/framrosetta/">framrosetta</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<p><code>framrosetta</code> was developed to store the various lookup
tables/mappings necessary to work with <a href="https://framverse.github.io/fram_doc/" class="external-link">FRAM</a> data, or to link
other data (TOCAS, WAFT, PSC stock and fishery identities) to FRAM
tables or vice versa. Most tables in FRAM identify stock and fisheries
by id numbers, but we often want to present figures or analyses using
names (or we need to filter to a specific fishery or stock of interest,
and we have the name but not the id).</p>
<div class="section level2">
<h2 id="key-functions">Key functions:<a class="anchor" aria-label="anchor" href="#key-functions"></a>
</h2>
<div class="section level3">
<h3 id="adding-stock-or-fishery-label">Adding stock or fishery label<a class="anchor" aria-label="anchor" href="#adding-stock-or-fishery-label"></a>
</h3>
<p>Frequently we work with tables that use stock id or fishery id to
identify stocks or fisheries; while useful for programming, id numbers
are not the easiest to read. <code><a href="../reference/label_stocks.html">label_stocks()</a></code> and
<code><a href="../reference/label_fisheries.html">label_fisheries()</a></code> use <code>stock_id</code> and
<code>fishery_id</code> to add human-readable stock and fishery names.
These functions are flexible (can manually specify the species or ), but
the simplest use-case is to label tables pulled from a fram database
with the <code>framrosetta</code> package, which works with default
arguments. Here is an example, using an artificial dataframe because we
cannot use <code>framrsquared::fetch_table()</code> in vignettes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## create example data with random coho stock id, fishery ids, and landed catch</span></span>
<span><span class="co">## We use </span></span>
<span><span class="va">dat</span> <span class="op">=</span> <span class="va">stock_coho_fram</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">stock_coho_fram</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,<span class="op">]</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">stock_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>fishery_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">200</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">stock_id</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>           landed_catch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">stock_id</span><span class="op">)</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># This makes a dataframe that could reasonably be output from framrsquared functions</span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span></span>
<span><span class="co">#&gt;   stock_id fishery_id landed_catch</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      173        102        875. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>      151        111        176. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>      204         47         35.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       63        159        321. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>      229        196        403.</span></span>
<span><span class="co">## Not very human readable</span></span>
<span><span class="co">## make the stock_id human readable</span></span>
<span><span class="va">dat</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/label_stocks.html">label_stocks</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span></span>
<span><span class="co">#&gt;   stock_id stock_label                          fishery_id landed_catch</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      173 Wash Late Wild UnMarked                     102        875. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>      151 Chehalis River Hatchery UnMarked            111        176. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>      204 California Central Coast Wild Marked         47         35.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       63 Deschutes River (WA) Wild UnMarked          159        321. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>      229 Upper Fraser River Hatchery UnMarked        196        403.</span></span>
<span></span>
<span><span class="co">## make both stock_id and fishery_id human readable</span></span>
<span><span class="va">dat</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/label_stocks.html">label_stocks</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/label_fisheries.html">label_fisheries</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;   stock_id stock_label                     fishery_id fishery_label landed_catch</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>      173 Wash Late Wild UnMarked                102 WA Area 8 Tr…        875. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>      151 Chehalis River Hatchery UnMark…        111 WA Area 8D N…        176. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>      204 California Central Coast Wild …         47 Willapa Bay …         35.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       63 Deschutes River (WA) Wild UnMa…        159 Area 12C-12D…        321. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>      229 Upper Fraser River Hatchery Un…        196 SEAK Northwe…        403.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="searching-for-stock-or-fishery">Searching for stock or fishery<a class="anchor" aria-label="anchor" href="#searching-for-stock-or-fishery"></a>
</h3>
<p>To identify a stock or fishery from an ID number, or to find the
stock or fishery ID based on the name, <code>framrosetta</code> includes
two search functions. <code>fishery_search</code> takes either a fishery
ID number or a full or partial name and returns a tibble summarizing all
fisheries that match; <code>stock_search</code> does the same for
stocks. In both cases, the <code>species</code> argument must be
provided to determine if the function should return the relevant
<code>"CHINOOK"</code> or <code>"COHO"</code> fisheries / stocks. The
<code>pattern</code> argument can take regular expressions, and is case
insensitive.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Figure out the coho fishery ids for the kmz fisheries</span></span>
<span><span class="fu"><a href="../reference/fishery_search.html">fishery_search</a></span><span class="op">(</span><span class="st">"kmz"</span>, <span class="st">"COHO"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 5</span></span></span>
<span><span class="co">#&gt;   species version_number fishery_id fishery_name fishery_title</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> COHO                 1          5 Ca KMZ Spt   KMZ Sport    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> COHO                 1          6 Ca KMZ Trl   KMZ Troll</span></span>
<span><span class="co">## Figure out which Coho fishery has id 50</span></span>
<span><span class="fu"><a href="../reference/fishery_search.html">fishery_search</a></span><span class="op">(</span><span class="fl">50</span>, <span class="st">"COHO"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   species version_number fishery_id fishery_name fishery_title           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> COHO                 1         50 GryHbr Net   Grays Harbor Estuary Net</span></span>
<span><span class="co">## Find all the Chinook noocksack stocks</span></span>
<span><span class="fu"><a href="../reference/fishery_search.html">stock_search</a></span><span class="op">(</span><span class="st">"nooksack"</span>, <span class="st">"CHINOOK"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   species stock_version stock_id production_region_number management_unit_number</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHINOOK             5        4                        1                      6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHINOOK             5        6                        1                     10</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> CHINOOK             5        2                        1                      2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> CHINOOK             5        3                        1                      5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> CHINOOK             5        5                        1                      9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> CHINOOK             5        1                        1                      1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: stock_name &lt;chr&gt;, stock_long_name &lt;chr&gt;</span></span></span>
<span><span class="co">## Figure out which Chinook stock has id 21</span></span>
<span><span class="fu"><a href="../reference/fishery_search.html">stock_search</a></span><span class="op">(</span><span class="fl">21</span>, <span class="st">"CHINOOK"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   species stock_version stock_id production_region_number management_unit_number</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHINOOK             5       21                        4                      1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: stock_name &lt;chr&gt;, stock_long_name &lt;chr&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="table-summaries">Table summaries<a class="anchor" aria-label="anchor" href="#table-summaries"></a>
</h2>
<p><code>framrosetta</code> contains the following tables for
translating FRAM fisheries, stocks, and areas to other fishery data or
human readable formats:</p>
<div class="section level3">
<h3 id="rmis_fram">
<code>rmis_fram</code><a class="anchor" aria-label="anchor" href="#rmis_fram"></a>
</h3>
<p>Translating between FRAM and RMIS.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rmis_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">psc_code</th>
<th align="right">fishery_id</th>
<th align="left">fishery_name</th>
<th align="right">gear</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2F 29FW</td>
<td align="right">169</td>
<td align="left">Fraser Spt</td>
<td align="right">40</td>
</tr>
<tr class="even">
<td align="left">2F 29FW</td>
<td align="right">169</td>
<td align="left">Fraser Spt</td>
<td align="right">41</td>
</tr>
<tr class="odd">
<td align="left">2F 29FW</td>
<td align="right">169</td>
<td align="left">Fraser Spt</td>
<td align="right">42</td>
</tr>
<tr class="even">
<td align="left">2F 29FW</td>
<td align="right">169</td>
<td align="left">Fraser Spt</td>
<td align="right">43</td>
</tr>
<tr class="odd">
<td align="left">2F 29FW</td>
<td align="right">169</td>
<td align="left">Fraser Spt</td>
<td align="right">44</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="tocas_fram">
<code>tocas_fram</code><a class="anchor" aria-label="anchor" href="#tocas_fram"></a>
</h3>
<p>Translating between FRAM and TOCAS.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tocas_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">fisher_type</th>
<th align="left">gear</th>
<th align="left">disposition</th>
<th align="left">catch_area</th>
<th align="right">fishery_id</th>
<th align="left">fishery_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">C&amp;SF</td>
<td align="left">1</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">COMM</td>
<td align="left">1</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">ORGN</td>
<td align="left">1</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">TEST</td>
<td align="left">1</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">TKHM</td>
<td align="left">1</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="waft_fram">
<code>waft_fram</code><a class="anchor" aria-label="anchor" href="#waft_fram"></a>
</h3>
<p>Translating between WAFT and FRAM.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">waft_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">fisher_type</th>
<th align="left">gear</th>
<th align="left">disposition</th>
<th align="left">catch_area</th>
<th align="right">fishery_id</th>
<th align="left">fishery_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">C&amp;SF</td>
<td align="left">01</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">COMM</td>
<td align="left">01</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">ORGN</td>
<td align="left">01</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">TEST</td>
<td align="left">01</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">41</td>
<td align="left">TKHM</td>
<td align="left">01</td>
<td align="right">34</td>
<td align="left">A1-Ast 41</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="stock_chinook_fram">
<code>stock_chinook_fram</code><a class="anchor" aria-label="anchor" href="#stock_chinook_fram"></a>
</h3>
<p>Translating between Chinook stock IDs and human-readable names.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_chinook_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="11%">
<col width="7%">
<col width="20%">
<col width="18%">
<col width="9%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">stock_version</th>
<th align="right">stock_id</th>
<th align="right">production_region_number</th>
<th align="right">management_unit_number</th>
<th align="left">stock_name</th>
<th align="left">stock_long_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">5</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">M-NK Sp Hat</td>
<td align="left">Marked Nooksack Spr Hatchery</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="left">M-NK Sp Nat</td>
<td align="left">Marked Nooksack Spr Natural</td>
</tr>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">M-Skag FF</td>
<td align="left">Marked Skagit Summer/Fall Fing</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">5</td>
<td align="right">10</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="left">M-SkagFYr</td>
<td align="left">Marked Skagit Summer/Fall Year</td>
</tr>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">5</td>
<td align="right">12</td>
<td align="right">2</td>
<td align="right">10</td>
<td align="left">M-SkagSpY</td>
<td align="left">Marked Skagit Spring Year</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="stock_coho_fram">
<code>stock_coho_fram</code><a class="anchor" aria-label="anchor" href="#stock_coho_fram"></a>
</h3>
<p>Translating between Coho stock IDs and human-readable names.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_coho_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="4%">
<col width="8%">
<col width="5%">
<col width="14%">
<col width="13%">
<col width="6%">
<col width="19%">
<col width="11%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">stock_version</th>
<th align="right">stock_id</th>
<th align="right">production_region_number</th>
<th align="right">management_unit_number</th>
<th align="left">stock_name</th>
<th align="left">stock_long_name</th>
<th align="left">limiting_stock_name</th>
<th align="left">limiting_stock_name_tamm</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">U-nkskrw</td>
<td align="left">Nooksack River Wild UnMarked</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">M-nkskrw</td>
<td align="left">Nooksack River Wild Marked</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="left">U-kendlh</td>
<td align="left">Kendall Creek Hatchery UnMarked</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="left">M-kendlh</td>
<td align="left">Kendall Creek Hatchery Marked</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">U-skokmh</td>
<td align="left">Skookum Creek Hatchery UnMarked</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="stock_coho_psc">
<code>stock_coho_psc</code><a class="anchor" aria-label="anchor" href="#stock_coho_psc"></a>
</h3>
<p>Translating between Coho FRAM stock IDs and PSC IDs and names.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">stock_coho_psc</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">species</th>
<th align="right">fram_stock_id</th>
<th align="right">psc_stock_id</th>
<th align="left">psc_stock_name</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">17</td>
<td align="right">1</td>
<td align="left">Skagit</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">18</td>
<td align="right">1</td>
<td align="left">Skagit</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">23</td>
<td align="right">1</td>
<td align="left">Skagit</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">24</td>
<td align="right">1</td>
<td align="left">Skagit</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">29</td>
<td align="right">2</td>
<td align="left">Stillaguamish</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="fishery_chinook_fram">
<code>fishery_chinook_fram</code><a class="anchor" aria-label="anchor" href="#fishery_chinook_fram"></a>
</h3>
<p>Translating between Chinook fishery IDs and human-readable names.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fishery_chinook_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">species</th>
<th align="right">version_number</th>
<th align="right">fishery_id</th>
<th align="left">fishery_name</th>
<th align="left">fishery_title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">55</td>
<td align="left">Tr 6B:9Net</td>
<td align="left">Tr Area 6B:9 Net</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">56</td>
<td align="left">A 10 Sport</td>
<td align="left">NT Area 10 Sport</td>
</tr>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">57</td>
<td align="left">A 11 Sport</td>
<td align="left">NT Area 11 Sport</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">58</td>
<td align="left">NT10:11Net</td>
<td align="left">NT Area 10:11 Net</td>
</tr>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">59</td>
<td align="left">Tr10:11Net</td>
<td align="left">Tr Area 10:11 Net</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="fishery_coho_fram">
<code>fishery_coho_fram</code><a class="anchor" aria-label="anchor" href="#fishery_coho_fram"></a>
</h3>
<p>Translating between Coho fishery IDs and human-readable names.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fishery_coho_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="20%">
<col width="14%">
<col width="17%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">version_number</th>
<th align="right">fishery_id</th>
<th align="left">fishery_name</th>
<th align="left">fishery_title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">No Cal Trm</td>
<td align="left">No Calif Cst Terminal Catch</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">Cn Cal Trm</td>
<td align="left">Cntrl Cal Cst Term Catch</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="left">Ft Brg Spt</td>
<td align="left">Fort Bragg Sport</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="left">Ft Brg Trl</td>
<td align="left">Fort Bragg Troll</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">Ca KMZ Spt</td>
<td align="left">KMZ Sport</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="fishery_coho_psc">
<code>fishery_coho_psc</code><a class="anchor" aria-label="anchor" href="#fishery_coho_psc"></a>
</h3>
<p>Translating between Coho FRAM fishery IDs and PSC IDs and names.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fishery_coho_psc</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="17%">
<col width="16%">
<col width="16%">
<col width="19%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">fram_fishery_id</th>
<th align="right">psc_fishery_id</th>
<th align="left">psc_group_code</th>
<th align="left">psc_fishery_name</th>
<th align="right">psc_fishery_order</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">18</td>
<td align="left">Southern U.S.</td>
<td align="left">SOF All</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">2</td>
<td align="right">18</td>
<td align="left">Southern U.S.</td>
<td align="left">SOF All</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="left">Southern U.S.</td>
<td align="left">SOF All</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">4</td>
<td align="right">18</td>
<td align="left">Southern U.S.</td>
<td align="left">SOF All</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">5</td>
<td align="right">18</td>
<td align="left">Southern U.S.</td>
<td align="left">SOF All</td>
<td align="right">17</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="timestep_chinook_fram">
<code>timestep_chinook_fram</code><a class="anchor" aria-label="anchor" href="#timestep_chinook_fram"></a>
</h3>
<p>Translating between Chinook time-step IDs and human-readable
names.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">timestep_chinook_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="22%">
<col width="19%">
<col width="22%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">version_number</th>
<th align="right">time_step_id</th>
<th align="left">time_step_name</th>
<th align="left">time_step_title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">Oct-Apr</td>
<td align="left">October-April</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">May-June</td>
<td align="left">May - June</td>
</tr>
<tr class="odd">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="left">July-Sept</td>
<td align="left">July - September</td>
</tr>
<tr class="even">
<td align="left">CHINOOK</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="left">Oct-Apr-2</td>
<td align="left">October-April-2</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="timestep_coho_fram">
<code>timestep_coho_fram</code><a class="anchor" aria-label="anchor" href="#timestep_coho_fram"></a>
</h3>
<p>Translating between Coho time-step IDs and human-readable names.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">timestep_coho_fram</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="21%">
<col width="18%">
<col width="21%">
<col width="27%">
</colgroup>
<thead><tr class="header">
<th align="left">species</th>
<th align="right">version_number</th>
<th align="right">time_step_id</th>
<th align="left">time_step_name</th>
<th align="left">time_step_title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">Jan-Jun</td>
<td align="left">January - June</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">July</td>
<td align="left">July</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="left">August</td>
<td align="left">August</td>
</tr>
<tr class="even">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="left">Septmbr</td>
<td align="left">September</td>
</tr>
<tr class="odd">
<td align="left">COHO</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">Oct-Dec</td>
<td align="left">October - December</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="bk_lookup_chin">
<code>bk_lookup_chin</code><a class="anchor" aria-label="anchor" href="#bk_lookup_chin"></a>
</h3>
<p>For Chinook only, the backwards FRAM algorithm uses a separate stock
ID system that is hard-coded into FRAM. The underlying idea is that
normally FRAM tracks two versions of each stock (marked and unmarked),
or occasionally four versions of each stock (marked and unmarked). For
part of backwards fram for Chinook, the algorithm separately handles the
total number of fish across these versions of stock <em>and</em> the
allocation of those fish into the two (or four) stocks. To do so, the
algorithm creates a new stock id numbering system, with an additional
“sum” stock for each of the pairs (or sets of four) marked/unmarked or
marked/unmarked x hatch/natural stocks.</p>
<p>Unfortunately, this means that the BackwardFRAM table in any Chinook
database has a <code>StockID</code> that does <em>not</em> match the
<code>StockID</code> column in any of the other tables.
<code><a href="../reference/bk_lookup_chin.html">framrosetta::bk_lookup_chin</a></code> maps between the stock ids in
the BackwardsFRAM table (<code>$bk_stock_id</code>) and the stock ids
everywhere else (<code>$stock_id</code>).</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">bk_lookupfun_chin</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<tbody>
<tr class="odd">
<td align="left">function (max_stock = NA)</td>
</tr>
<tr class="even">
<td align="left">{</td>
</tr>
<tr class="odd">
<td align="left">if (!is.na(max_stock) &amp; (!is.numeric(max_stock) |
max_stock%%1 !=</td>
</tr>
<tr class="even">
<td align="left">0)) {</td>
</tr>
<tr class="odd">
<td align="left">cli::cli_alert(“<code>max_stock</code> must be an
integer.”)</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ty Garber, Collin Edwards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
